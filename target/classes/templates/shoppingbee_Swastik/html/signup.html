
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
<script src="/static/js/jquery.js"></script>
    <title>Sign up | Shoppingbee</title>

  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!-- Custom styles for this template -->
    <link href="http://getbootstrap.com/examples/sticky-footer/sticky-footer.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="http://getbootstrap.com/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
      body{
        background-color: #0288D1;
      }

      .box1{
          background-color: rgba(255, 255, 255, 0.78);
  box-sizing: border-box;
  padding: 35px;
  border-radius: 5px;
      }
      .background{
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
  margin: 0 auto;
  display: block;
  position: absolute;
  left:0;
  top:0;
  height: 100%;
  width: 100%;
  text-align: center;
    -webkit-filter: blur(3px);
    filter:blur(3px);
}

.pag li{

  height: 50px;
  width: 50px;
}
      @media (min-width: 694px){
        .box1{
          margin-top: 45px;
          margin-bottom: 75px;
        }
      }

      @media (max-width: 694px){
        .box1{
          margin-top: 50px;
          background-color: #FCFCFC;
        }
        .background{
          display: none;
        }
      }
    </style>
  </head>

  <body>
     <header>

</header>
    <!-- Begin page content -->

  
            <div class="container" style="max-width:none;">
            <div class="background"></div>
              <div class="row" style="margin-bottom:0;">
               
                  <div class="col-md-8 col-md-offset-2 col-xs-12 box1"> 
                                  <form method="get" action="SignupServ" id="form1">

                                    <label for="uname">Username</label>
                                      <div class="input-group m20">
                                        <span class="input-group-addon"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></span>
                                        <input type="text" id="uname" name="uname" class="form-control"  placeholder="Swastik Roy" aria-describedby="sizing-addon2">
                                      </div>

                                      <label for="umob">Phone Number</label>
                                      <div class="input-group m20">
                                        <span class="input-group-addon"><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span></span>
                                        <input type="text" id="umob" name="umob" onkeypress='return (event.charCode >= 48 && event.charCode <= 57) || (event.keyCode == 8 || event.keyCode == 46)'  class="form-control shadow"  maxlength="10" placeholder="example: 8051005622" aria-describedby="sizing-addon2" pattern=".{10,10}" title="Phone Number must contain exactly 10 digits">
                                      </div>

                                      <div class="row">
                                      <div class="col-lg-6 col-xs-12">
                                      <label for="pass">Password</label>
                                      <div class="input-group m20">
                                        <span class="input-group-addon"><span class="glyphicon glyphicon-lock" aria-hidden="true"></span></span>
                                        <input type="password" id="pass" name="pass" pattern=".{6,30}" class="form-control shadow"  maxlength="30" placeholder="*********" aria-describedby="sizing-addon2" pattern=".{8,30}" title="Password must be 8 to 30 characters long">
                                      </div>
                                      </div>

                                      <div class="col-lg-6 col-xs-12">
                                      <label for="mail">Email</label>
                                      <div class="input-group m20">
                                        <span class="input-group-addon"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span></span>
                                        <input type="email" id="mail" name="mail" class="form-control shadow"  maxlength="50" placeholder="example: swastik@beehyv.com" aria-describedby="sizing-addon2" pattern=".{5,50}" title="Email must be 5 to 50 characters long">
                                      </div>
                                      </div>
                                      </div>

                                      

                                      
                                      <label for="file">Describe yourself</label>
                                      <div class="input-group m20">
                                        <span class="input-group-addon"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></span>
                                          <textarea id="desc" name="desc" class="form-control custom-control shadow" placeholder="Type description here" rows="3" style="resize:none"></textarea>     
                                          
                                      </div>
		
                                      <br>
                                      <Button class="btn btn-success btn-block" id="sub" type="submit" style="padding:5 30px;">Sign up</Button>
                                      </form>
                                      <br>
                                      <div id="response-message-green" class="response-message" style="width:100%;color:#fff;background:green;text-align: center;padding: 5px 5px;box-shadow: inset 1px 5px 28px -13px #fff;border-radius: 0 0 5px 5px;">Login Successful</div>
                                    <div id="response-message-red" class="response-message" style="width:100%;color:#fff;background:red;text-align: center;padding: 5px 5px;box-shadow: inset 1px 5px 28px -13px #fff;border-radius: 0 0 5px 5px;">Login failed</div>
                                        <p class="text-center" style="font-size:1em;"><a href="/home" style="text-decoration:none;cursor:pointer;">Go back to homepage</a></p>
                  </div>
              </div>
            </div>
  

    <footer class="footer" style="background-color:#212121;">
      <div class="container" style="color:#fff;">
        <p class="text-muted text-center">Shoppingbee | This page is not in working state</p>
      </div>
    </footer>


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="http://getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
			$(".response-message").hide();
			
			$("form").submit(function(){
            var uname = $("#uname").val();
            var pass = $("#pass").val();
            var signup_url = "/addUser";
          
            var formData = {
                    'name'  : uname,
                    'password'   : pass,
                    'email'	 : $("#mail").val(),
                    'phone'	 : $("#umob").val(),
                    'description': $("#desc").val()
                };
            
            $.ajax({
                type: "POST",
                url: signup_url,
                data: formData,
                success: function(response) {
                    if(response == "Username already exists"){
                    	console.log(response);
                    	$(".response-message").hide();
                    	$("#response-message-red").slideDown();
                    	$("#response-message-red").html(response);
                    }
                    else if(response == "Sign up successful"){
                    	console.log(response);
                    	$(".response-message").hide();
                    	$("#response-message-green").slideDown();
                    	$("#response-message-green").html(response);
                    	setTimeout(function(){
                    		location.assign("/login");
                    		}, 1000);
                    	
                    }
                    else{
                    	console.log("Something went wrong");
                    	console.log(response);
                    	$(".response-message").hide();
                    	$("#response-message-red").slideDown();
                    	$("#response-message-red").html(response);
                    }
                },
                failure: function(){
                	console.log("Check your internet connection");
                	$(".response-message").hide();
                	$("#response-message-red").slideDown();
                	$("#response-message-red").html("Check your internet connection");
                }
            });
			return false;
          });
      });
    </script>
  </body>
</html>
